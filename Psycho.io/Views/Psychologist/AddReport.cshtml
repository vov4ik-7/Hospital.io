@model Psycho.DTO.Core.CreateReportDTO
@{
    ViewBag.Title = "Add report";
}

<style>
    footer {
        position: fixed;
        bottom: 0;
        width: 100%;
    }
</style>

<div class="container" style="margin-top: 150px;">
    <form asp-controller="Psychologist" asp-action="AddReport"
            data-ajax="true"
            data-ajax-method="POST"
            data-ajax-mode="replace"
            data-ajax-update=""
            data-ajax-success="SuccessAddedReport">

        <input type="number" asp-for="PsychologistId" hidden />
        <input type="number" asp-for="AuthorizedUserId" hidden />
        <div class="col-md-12 mb-4" style="">
            <!--Content-->
            <div class="modal-content form-elegant">
                <!--Header-->
                <div class="modal-header text-center">
                    <h3 class="modal-title w-100 dark-grey-text font-weight-bold my-3" id="myModalLabel"><strong>Add report for @Model.PsychologistName</strong></h3>
                    @*<button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>*@
                </div>
                <div class="modal-body mx-4">
                    <div class="row">

                        <!-- Grid column -->
                        <div class="col">

                            <div class="media">
                                <img class="d-flex mr-3" src="~/img/user.png" alt="Profile avatar" width="64">
                                <div class="media-body">
                                    <h5 class="mt-0 font-weight-bold">@Model.AuthorizedUserName</h5>
                                    <div class="md-form mb-5">
                                        <textarea type="text" id="reportMessage" class="form-control validate md-textarea" asp-for="Message" rows="3"></textarea>
                                        <label data-error="wrong" data-success="right" for="reportMessage" asp-for="Message">Your report</label>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <div class="form-check">
                                    <input type="checkbox" class="form-check-input" id="materialLoginFormRemember" asp-for="IsChecked">
                                    <label class="form-check-label" for="materialLoginFormRemember" asp-for="IsChecked">Anonymous</label>
                                </div>
                            </div>

                        </div>

                    </div>

                    <hr />

                    <div class="row">

                        <!-- Grid column -->
                        <div class="col-md-12">


                            <div class="text-center mb-3">
                                <button id="submitBtn" type="submit" class="btn blue-gradient btn-block btn-rounded z-depth-1a">Add</button>
                            </div>

                        </div>
                        <!-- Grid column -->

                    </div>

                </div>
            </div>
            <!--/.Content-->
        </div>
    </form>
</div>

<footer class="page-footer text-center text-md-left stylish-color-dark pt-0">
    <!-- Copyright-->
    <div class="footer-copyright py-3 text-center wow fadeIn" data-wow-delay="0.3s">
        <div class="container-fluid">
            © 2019 Copyright: <a href="#" target="_blank"> VL </a>
        </div>
    </div>
    <!--/.Copyright -->
</footer>

<script>
    function SuccessAddedReport(data) {
        toastr.success(data.description);
        $('#reportMessage').prop('disabled', true);
        $('input').prop('disabled', true);
        $('#submitBtn').prop('disabled', true);
    }
</script>

@section scripts {

}